https://horizon.kias.re.kr/18928/
```
1부터 연속한 자연수를 한 줄로 나열하여, 인접한 두 수의 합이 제곱수가 되게 할 수 있을까?
예를 들어, 8-1-3-6-10으로 나열하면,

8+1=9, 1+3=4, 3+6=9, 6+10=16

은 모두 제곱수이다. 중간에 2, 4, 5, 7, 9가 빠졌는데, 이 수들은 어느 자리에 두어도 인접한 두 수의 합이 제곱수가 되게 할 수 없다.
따라서 1부터 10까지 열 개의 수로는 이런 배열을 만들 수 없다.

실제로 만들어 보면, 인접한 두 수의 합이 모두 제곱수가 되는 것은 1부터 15까지 배열할 때 처음으로 가능하다.
이어서 16, 17까지도 가능한데, 18부터는 다시 불가능해져서, 22까지 모두 불가능하고, 23에서 다시 가능해졌다가 24에서 다시 불가능해진다.
그러다 1부터 25까지 배열하는 것은 다시 가능해지고, 이후로는 모든 자연수에 대해 이와 같은 배열이 가능하게 된다.
심지어, 32부터는 한 바퀴 돌아 출발점으로 돌아오는 배열도 가능하다.

10월의 퍼즐에서는 이런 배열이 모두 가능해지는 첫 번째 수인 25에 해당하는 배열을 찾아보자.
답은 하나가 아니어서, 한 가지 경우를 찾은 분들은 몇 개 더 찾아보는 것도 가능하겠다.

이번 10월에는 고등과학원이 개원 25주년을 맞이하게 된다.
그동안 많은 우여곡절이 있었으나, 고등과학원은 대한민국을 대표하는 기초과학 연구기관으로서 많은 발전을 이루어 왔다.
이제 25주년을 지나면서부터 모든 문제가 잘 풀리고 더욱 발전하는 고등과학원이 되기를 기원해 본다.
```

### 먼저 제곱수들 부터 계산해보자



```python
import numpy as np
numbers = np.arange(100)**2
numbers
```




    array([   0,    1,    4,    9,   16,   25,   36,   49,   64,   81,  100,
            121,  144,  169,  196,  225,  256,  289,  324,  361,  400,  441,
            484,  529,  576,  625,  676,  729,  784,  841,  900,  961, 1024,
           1089, 1156, 1225, 1296, 1369, 1444, 1521, 1600, 1681, 1764, 1849,
           1936, 2025, 2116, 2209, 2304, 2401, 2500, 2601, 2704, 2809, 2916,
           3025, 3136, 3249, 3364, 3481, 3600, 3721, 3844, 3969, 4096, 4225,
           4356, 4489, 4624, 4761, 4900, 5041, 5184, 5329, 5476, 5625, 5776,
           5929, 6084, 6241, 6400, 6561, 6724, 6889, 7056, 7225, 7396, 7569,
           7744, 7921, 8100, 8281, 8464, 8649, 8836, 9025, 9216, 9409, 9604,
           9801], dtype=int32)



### 25 이하에서 이동할 수 있는 경로를 계산해보자


```python
def get_map(limit=25):
    map_data = dict()
    for x in range(1, limit+1):
        map_data[x] = [y for y in (numbers-x) if 0< y <= limit and y!= x]
        print(x , map_data[x] )
    return map_data

def recursive_visit(start, path, limit, map_data):
    if start in path:
        #print(f"fail : {path}, {start}")
        return
    else :
        path.append(start)
        if len(path) == limit:
            print(f"       {path}")
            if path[0] in map_data[path[-1]]:
                print(f"순환이 가능한 수열!!! : {path}")
            return
        for next_n in map_data[start]:
            #print(start, "=>", next_n)
            recursive_visit(next_n, path.copy(), limit, map_data)
        return

def find_by_limit(limit):
    print(" # 각 숫자로 부터 제곱수로 이동 할 수 있는 수 목록 ")
    map_data = get_map(limit)
    print("\n\n # 이하 가능한 경로")
    for aa in range(1, limit+1):
        #print("##"*10)
        #print(aa)
        recursive_visit(aa, [], limit, map_data)

find_by_limit(25)
```

     # 각 숫자로 부터 제곱수로 이동 할 수 있는 수 목록 
    1 [3, 8, 15, 24]
    2 [7, 14, 23]
    3 [1, 6, 13, 22]
    4 [5, 12, 21]
    5 [4, 11, 20]
    6 [3, 10, 19]
    7 [2, 9, 18]
    8 [1, 17]
    9 [7, 16]
    10 [6, 15]
    11 [5, 14, 25]
    12 [4, 13, 24]
    13 [3, 12, 23]
    14 [2, 11, 22]
    15 [1, 10, 21]
    16 [9, 20]
    17 [8, 19]
    18 [7]
    19 [6, 17]
    20 [5, 16]
    21 [4, 15]
    22 [3, 14]
    23 [2, 13]
    24 [1, 12, 25]
    25 [11, 24]
    
    
     # 이하 가능한 경로
           [2, 23, 13, 12, 24, 25, 11, 14, 22, 3, 1, 8, 17, 19, 6, 10, 15, 21, 4, 5, 20, 16, 9, 7, 18]
           [3, 22, 14, 2, 23, 13, 12, 4, 21, 15, 10, 6, 19, 17, 8, 1, 24, 25, 11, 5, 20, 16, 9, 7, 18]
           [4, 21, 15, 10, 6, 19, 17, 8, 1, 3, 22, 14, 2, 23, 13, 12, 24, 25, 11, 5, 20, 16, 9, 7, 18]
           [8, 17, 19, 6, 10, 15, 21, 4, 12, 13, 23, 2, 14, 22, 3, 1, 24, 25, 11, 5, 20, 16, 9, 7, 18]
           [9, 16, 20, 5, 4, 21, 15, 10, 6, 19, 17, 8, 1, 3, 22, 14, 11, 25, 24, 12, 13, 23, 2, 7, 18]
           [10, 15, 21, 4, 12, 13, 23, 2, 14, 22, 3, 6, 19, 17, 8, 1, 24, 25, 11, 5, 20, 16, 9, 7, 18]
           [11, 25, 24, 12, 13, 23, 2, 14, 22, 3, 1, 8, 17, 19, 6, 10, 15, 21, 4, 5, 20, 16, 9, 7, 18]
           [13, 23, 2, 14, 22, 3, 1, 8, 17, 19, 6, 10, 15, 21, 4, 12, 24, 25, 11, 5, 20, 16, 9, 7, 18]
           [18, 7, 2, 23, 13, 12, 24, 25, 11, 14, 22, 3, 1, 8, 17, 19, 6, 10, 15, 21, 4, 5, 20, 16, 9]
           [18, 7, 9, 16, 20, 5, 4, 21, 15, 10, 6, 19, 17, 8, 1, 3, 22, 14, 2, 23, 13, 12, 24, 25, 11]
           [18, 7, 9, 16, 20, 5, 4, 21, 15, 10, 6, 19, 17, 8, 1, 3, 22, 14, 11, 25, 24, 12, 13, 23, 2]
           [18, 7, 9, 16, 20, 5, 11, 25, 24, 1, 3, 22, 14, 2, 23, 13, 12, 4, 21, 15, 10, 6, 19, 17, 8]
           [18, 7, 9, 16, 20, 5, 11, 25, 24, 1, 8, 17, 19, 6, 3, 22, 14, 2, 23, 13, 12, 4, 21, 15, 10]
           [18, 7, 9, 16, 20, 5, 11, 25, 24, 1, 8, 17, 19, 6, 10, 15, 21, 4, 12, 13, 3, 22, 14, 2, 23]
           [18, 7, 9, 16, 20, 5, 11, 25, 24, 1, 8, 17, 19, 6, 10, 15, 21, 4, 12, 13, 23, 2, 14, 22, 3]
           [18, 7, 9, 16, 20, 5, 11, 25, 24, 12, 4, 21, 15, 10, 6, 19, 17, 8, 1, 3, 13, 23, 2, 14, 22]
           [18, 7, 9, 16, 20, 5, 11, 25, 24, 12, 4, 21, 15, 10, 6, 19, 17, 8, 1, 3, 22, 14, 2, 23, 13]
           [18, 7, 9, 16, 20, 5, 11, 25, 24, 12, 13, 23, 2, 14, 22, 3, 1, 8, 17, 19, 6, 10, 15, 21, 4]
           [22, 14, 2, 23, 13, 3, 1, 8, 17, 19, 6, 10, 15, 21, 4, 12, 24, 25, 11, 5, 20, 16, 9, 7, 18]
           [23, 2, 14, 22, 3, 13, 12, 4, 21, 15, 10, 6, 19, 17, 8, 1, 24, 25, 11, 5, 20, 16, 9, 7, 18]
    


```python

```
